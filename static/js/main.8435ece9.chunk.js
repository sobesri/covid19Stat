(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,a,t){e.exports=t(63)},26:function(e,a,t){},27:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),o=t(19),c=t.n(o),s=(t(26),t(27),t(3)),r=t(20),i=t(4),d=t.n(i),u=d.a.create({baseURL:"https://hpb.health.gov.lk/api/"});d.a.defaults.headers.common["Content-Type"]="application/json",d.a.defaults.headers.common.Accept="application/json";var h={get:m,getStatistics:function(){return m("","get-current-statistical",[]).then((function(e){return e.data}))}};function m(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _("get",e,a,null,t,l)}function _(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=v(a,t,n,o),s=b(c,e,l);return u.request(s).then((function(e){return e&&e.data})).catch((function(e){throw console.log(e),e}))}function v(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e+(a?"/"+a:"");t.forEach((function(e){n+="/"+e}));var o="";return l&&(o+="?"+r.stringify(l)),n+=o}function b(e,a,t,l){var n={url:e,method:a,data:t};return l&&(n.responseType=l),n}var p=t(65),g=t(8),f=t(6),E=t.n(f),w=function(){var e=Object(l.useState)(),a=Object(s.a)(e,2),t=a[0],o=a[1],c=Object(l.useState)(new Date),r=Object(s.a)(c,2),i=r[0],d=r[1],u=Object(l.useState)(),m=Object(s.a)(u,2),_=m[0],v=m[1],b=Object(l.useState)(),f=Object(s.a)(b,2),w=f[0],C=f[1],N=Object(l.useState)((new Date).getTime()),j=Object(s.a)(N,2),O=j[0],k=j[1];Object(l.useEffect)((function(){y()}),[]),Object(l.useEffect)((function(){var e=setTimeout((function(){k((new Date).getTime()),y()}),3e5);return function(){clearTimeout(e)}}),[O]);var y=function(){h.getStatistics().then((function(e){d(new Date(e.update_date_time));var a={local_new_cases:e.local_new_cases,local_total_cases:e.local_total_cases,local_total_number_of_individuals_in_hospitals:e.local_total_number_of_individuals_in_hospitals,local_deaths:e.local_deaths,local_new_deaths:e.local_new_deaths,local_recovered:e.local_recovered,global_new_cases:e.global_new_cases,global_total_cases:e.global_total_cases,global_deaths:e.global_deaths,global_new_deaths:e.global_new_deaths,global_recovered:e.global_recovered};o(a);var t={labels:["Active","Deaths","Recovered"],datasets:[{label:"Global Cases",data:[a.global_total_cases-a.global_recovered-a.global_deaths,a.global_deaths,a.global_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};v({labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[a.local_total_cases-a.local_recovered-a.local_deaths,a.local_deaths,a.local_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]}),C(t)}))},D={maintainAspectRatio:!0,aspectRatio:1,legend:{position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header-row"},n.a.createElement("h1",null,"Covid-19"),n.a.createElement("h2",null,"Sri Lanka"),n.a.createElement("p",null,"Updated at ",E()(new Date(i)).format("ddd, MMM D hh:mm:ss")),"Data from ",n.a.createElement("a",{href:"https://hpb.health.gov.lk/",target:"_blank",rel:"noopener noreferrer"},"HPB | Live updates on New Coronavirus (COVID-19) outbreak")),n.a.createElement("div",{className:"refresh-button-panel"},n.a.createElement(p.a,{type:"button",onClick:function(){return y()}},"Reload data")),n.a.createElement("div",{className:"data-panel"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,"Local Cases"),n.a.createElement("h3",null,t&&t.local_total_cases),n.a.createElement("p",null,"total confirmed cases"),n.a.createElement("p",null,t&&n.a.createElement("small",null,"( New cases: ",t.local_new_cases,", New deaths: ",t.local_new_deaths,", In Hospital: ",t.local_total_number_of_individuals_in_hospitals," )"))),n.a.createElement("div",{className:"chart"},n.a.createElement(g.Chart,{width:"",type:"pie",data:_,options:D}))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,"Global Cases"),n.a.createElement("h3",null,t&&t.global_total_cases),n.a.createElement("p",null,"total confirmed cases"),n.a.createElement("p",null,t&&n.a.createElement("small",null,"( New cases: ",t.global_new_cases,", New deaths: ",t.global_new_deaths," )"))),n.a.createElement("div",{className:"chart"},n.a.createElement(g.Chart,{width:"",type:"pie",data:w,options:D}))))))};var C=function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(w,null))};t(62),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.8435ece9.chunk.js.map