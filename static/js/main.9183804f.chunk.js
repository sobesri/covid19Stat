(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a(83)},39:function(e,t,a){},40:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),r=a.n(o),c=(a(39),a(40),a(8)),d=a(32),s=a(12),i=a.n(s),m=i.a.create({baseURL:"https://hpb.health.gov.lk/api/"}),u=i.a.create({baseURL:"https://api.covid19api.com/"});i.a.defaults.headers.common["Content-Type"]="application/json",i.a.defaults.headers.common.Accept="application/json";var v,h={get:f,getStatistics_HPB:function(){return f(m,"","get-current-statistical",[]).then((function(e){return e.data}))},getStatistics_Global:function(){return f(u,"","summary",[]).then((function(e){return e}))}};function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return p(e,"get",t,a,null,n,l)}function p(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=b(a,n,o,r),d=w(c,t,l);return e.request(d).then((function(e){return e&&e.data})).catch((function(e){throw console.log(e),e}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=e+(t?"/"+t:"");a.forEach((function(e){l+="/"+e}));var o="";return n&&(o+="?"+d.stringify(n)),l+=o}function w(e,t,a,n){var l={url:e,method:t,data:a};return n&&(l.responseType=n),l}!function(e){e[e.Confirmed=0]="Confirmed",e[e.Deaths=1]="Deaths",e[e.Recovered=2]="Recovered",e[e.NewConfirmed=3]="NewConfirmed",e[e.NewDeaths=4]="NewDeaths",e[e.NewRecovered=5]="NewRecovered"}(v||(v={}));var g=[{label:"Total Confirmed",value:v.Confirmed},{label:"Total Deaths",value:v.Deaths},{label:"Total Recovered",value:v.Recovered},{label:"New Confirmed",value:v.NewConfirmed},{label:"New Deaths",value:v.NewDeaths},{label:"New Recovered",value:v.NewRecovered}],E=[{label:"Desc",value:0},{label:"Asc",value:1}],_=[{date:new Date(2020,2,10),recovered:0,deaths:0,confirmed:1},{date:new Date(2020,2,11),recovered:0,deaths:0,confirmed:1},{date:new Date(2020,2,12),recovered:0,deaths:0,confirmed:2},{date:new Date(2020,2,13),recovered:0,deaths:0,confirmed:4},{date:new Date(2020,2,14),recovered:0,deaths:0,confirmed:6},{date:new Date(2020,2,15),recovered:0,deaths:0,confirmed:11},{date:new Date(2020,2,16),recovered:0,deaths:0,confirmed:19},{date:new Date(2020,2,17),recovered:0,deaths:0,confirmed:29},{date:new Date(2020,2,18),recovered:0,deaths:0,confirmed:42},{date:new Date(2020,2,19),recovered:0,deaths:0,confirmed:53},{date:new Date(2020,2,20),recovered:0,deaths:0,confirmed:66},{date:new Date(2020,2,21),recovered:0,deaths:0,confirmed:72},{date:new Date(2020,2,22),recovered:0,deaths:0,confirmed:78},{date:new Date(2020,2,23),recovered:0,deaths:0,confirmed:87},{date:new Date(2020,2,24),recovered:2,deaths:0,confirmed:97},{date:new Date(2020,2,25),recovered:3,deaths:0,confirmed:102},{date:new Date(2020,2,26),recovered:3,deaths:0,confirmed:102},{date:new Date(2020,2,27),recovered:7,deaths:0,confirmed:106},{date:new Date(2020,2,28),recovered:9,deaths:1,confirmed:113},{date:new Date(2020,2,29),recovered:11,deaths:1,confirmed:117},{date:new Date(2020,2,30),recovered:14,deaths:2,confirmed:122},{date:new Date(2020,2,31),recovered:17,deaths:2,confirmed:143},{date:new Date(2020,3,1),recovered:21,deaths:2,confirmed:146},{date:new Date(2020,3,2),recovered:21,deaths:3,confirmed:151},{date:new Date(2020,3,3),recovered:22,deaths:4,confirmed:151},{date:new Date(2020,3,4),recovered:27,deaths:5,confirmed:162},{date:new Date(2020,3,5),recovered:27,deaths:5,confirmed:166}],C=a(85),N=a(86),D=a(87),T=a(88),y=a(89),S=a(94),L=a(93),k=a(90),O=a(91),R=a(92),j=a(13),B=a(17),A=a(11),I=a.n(A),M=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(new Date),d=Object(c.a)(r,2),s=d[0],i=d[1],m=Object(n.useState)(new Date),u=Object(c.a)(m,2),f=u[0],p=u[1],b=Object(n.useState)(),w=Object(c.a)(b,2),A=w[0],M=w[1],F=Object(n.useState)(),x=Object(c.a)(F,2),G=x[0],P=x[1],W=Object(n.useState)((new Date).getTime()),H=Object(c.a)(W,2),U=H[0],V=H[1],J=Object(n.useState)(),Y=Object(c.a)(J,2),q=Y[0],z=Y[1],$=Object(n.useState)(),K=Object(c.a)($,2),Q=K[0],X=K[1],Z=Object(n.useState)(),ee=Object(c.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(v.Confirmed),le=Object(c.a)(ne,2),oe=le[0],re=le[1],ce=Object(n.useState)(v.Confirmed),de=Object(c.a)(ce,2),se=de[0],ie=de[1],me=Object(n.useState)(!1),ue=Object(c.a)(me,2),ve=ue[0],he=ue[1];Object(n.useEffect)((function(){fe()}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){V((new Date).getTime()),fe()}),3e5);return function(){clearTimeout(e)}}),[U]),Object(n.useLayoutEffect)((function(){var e=function(){var e=document.getElementById("goToTopButton"),t=document.getElementById("goToGlobalButton"),a=document.getElementById("global");e&&t&&(window.scrollY>(a?a.offsetTop:500)/2?t.style.display="none":t.style.display="block",window.scrollY>900?e.style.display="block":e.style.display="none")};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var fe=function(){h.getStatistics_HPB().then((function(e){i(new Date(e.update_date_time));var t={local_new_cases:e.local_new_cases,local_total_cases:e.local_total_cases,local_total_number_of_individuals_in_hospitals:e.local_total_number_of_individuals_in_hospitals,local_deaths:e.local_deaths,local_new_deaths:e.local_new_deaths,local_recovered:e.local_recovered,global_new_cases:e.global_new_cases,global_total_cases:e.global_total_cases,global_deaths:e.global_deaths,global_new_deaths:e.global_new_deaths,global_recovered:e.global_recovered};o(t);var a={labels:["Active","Deaths","Recovered"],datasets:[{label:"Global Cases",data:[t.global_total_cases-t.global_recovered-t.global_deaths,t.global_deaths,t.global_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};M({labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[t.local_total_cases-t.local_recovered-t.local_deaths,t.local_deaths,t.local_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]}),P(a)})),h.getStatistics_Global().then((function(e){var t=e.Countries;t=t.filter((function(e,a){return t.map((function(e){return e.Slug})).indexOf(e.Slug)===a})),z(t),p(e.Date)}))},pe={maintainAspectRatio:!0,aspectRatio:1,rotation:.5*Math.PI,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}},be=function(e,t){var a=e.TotalConfirmed,n=t.TotalConfirmed;switch(oe){case v.Deaths:a=e.TotalDeaths,n=t.TotalDeaths;break;case v.Recovered:a=e.TotalRecovered,n=t.TotalRecovered;break;case v.NewConfirmed:a=e.NewConfirmed,n=t.NewConfirmed;break;case v.NewDeaths:a=e.NewDeaths,n=t.NewDeaths;break;case v.NewRecovered:a=e.NewRecovered,n=t.NewRecovered}if(0===se){if(a<n)return 1;if(a>n)return-1}if(1===se){if(a>n)return 1;if(a<n)return-1}return 0};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"local"},l.a.createElement("div",{className:"header-row"},l.a.createElement("h1",null,"Covid-19"),l.a.createElement("h3",null,"Sri Lanka"),l.a.createElement("p",null,"Updated at ",I.a.utc(new Date(s)).local().format("ddd, MMM D hh:mm:ss a"),l.a.createElement("br",null),"Data from ",l.a.createElement("a",{href:"https://hpb.health.gov.lk/",target:"_blank",rel:"noopener noreferrer"},"HPB | Live updates on New Coronavirus (COVID-19) outbreak"))),l.a.createElement("div",{className:"row-panel"},l.a.createElement(D.a,{className:"btn",type:"button",onClick:function(){return fe()}},"Reload data")),l.a.createElement("div",{className:"data-panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"title"},l.a.createElement("h2",null,"Local Cases: ",a&&a.local_total_cases.toLocaleString()),l.a.createElement("span",null,l.a.createElement("p",null,l.a.createElement("small",null,a&&"( Total cases: ".concat(a.local_total_cases.toLocaleString(),", New cases: ").concat(a.local_new_cases.toLocaleString(),", New deaths: ").concat(a.local_new_deaths.toLocaleString(),", In Hospital: ").concat(a.local_total_number_of_individuals_in_hospitals.toLocaleString()," )"))))),l.a.createElement("div",{className:"chart"},l.a.createElement(j.Chart,{width:"",type:"pie",data:A,options:pe})),l.a.createElement("div",null,l.a.createElement(D.a,{type:"button",onClick:function(){return he(!0)}},"Open Timeline"))),l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"title"},l.a.createElement("h2",null,"Global Cases: ",a&&a.global_total_cases.toLocaleString()),l.a.createElement("span",null,l.a.createElement("p",null,l.a.createElement("small",null,a&&"( Total cases: ".concat(a.global_total_cases.toLocaleString(),", New cases: ").concat(a.global_new_cases.toLocaleString(),", New deaths: ").concat(a.global_new_deaths.toLocaleString()," )"))))),l.a.createElement("div",{className:"chart"},l.a.createElement(j.Chart,{width:"",type:"pie",data:G,options:pe}))))),l.a.createElement("div",{className:"padding-top-xlg"})),l.a.createElement("div",{id:"global"},l.a.createElement("div",{className:"padding-top-lg"}),q&&l.a.createElement("div",null,l.a.createElement("div",{className:"header-row"},l.a.createElement("h1",null,"Covid-19"),l.a.createElement("h3",null,"Global Summaries"),l.a.createElement("p",null,"Updated at ",I.a.utc(new Date(f)).local().format("ddd, MMM D hh:mm:ss a"),l.a.createElement("br",null),"Data from ",l.a.createElement("a",{href:"https://documenter.getpostman.com/view/10808728/SzS8rjbc?version=latest",target:"_blank",rel:"noopener noreferrer"},"Coronavirus COVID19 API"))),l.a.createElement("div",{className:"row-panel"},l.a.createElement("div",{className:"data-panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column-4"},l.a.createElement(T.a,null,l.a.createElement(y.a,{value:te||"",onChange:function(e){return e.target&&ae(e.target.value)},placeholder:"Enter search term here..."}),te&&l.a.createElement(S.a,{className:"addon",addonType:"append"},l.a.createElement(D.a,{type:"button",onClick:function(){return ae(void 0)},title:"Clear Search Term"},l.a.createElement("i",{className:"material-icons"},"clear"))))),l.a.createElement("div",{className:"column-4"},l.a.createElement(B.a,{value:g.filter((function(e){return e.value===oe})),placeholder:"Sort By",options:g,onChange:function(e){e&&re(e.value)}})),l.a.createElement("div",{className:"column-4"},l.a.createElement(B.a,{value:E.filter((function(e){return e.value===se})),options:E,onChange:function(e){e&&ie(e.value)}}))))),l.a.createElement("div",{className:"data-panel"},function(e){var t=e.filter((function(e){return e.TotalConfirmed&&(!te||e.Country.toLocaleLowerCase().includes((te||"").toLocaleLowerCase()))})).sort(be);return t.length>0?l.a.createElement("div",{className:"row"},t.map((function(e,t){return l.a.createElement("div",{key:t,className:"column-4 data-col"},l.a.createElement("div",{className:"title"},l.a.createElement("h2",null,e.Country,": ",e.TotalConfirmed.toLocaleString()),l.a.createElement("p",null,"Total: ",e.TotalConfirmed.toLocaleString()," ( New: ",e.NewConfirmed.toLocaleString()," )",l.a.createElement("br",null),"Total Deaths: ",e.TotalDeaths.toLocaleString()," ( New: ",e.NewDeaths.toLocaleString()," )",l.a.createElement("br",null),"Total Recovered: ",e.TotalRecovered.toLocaleString()," ( New: ",e.NewRecovered.toLocaleString()," )",l.a.createElement("br",null)),l.a.createElement(D.a,{className:"btn",type:"button",onClick:function(){return X(e)}},"View ",e.Country,"'s Chart")))}))):l.a.createElement("div",{className:"fixed-row"},l.a.createElement("p",null,'No results found for "',te,'"'))}(q)),Q&&l.a.createElement(L.a,{isOpen:void 0!==Q,toggle:function(){return X(void 0)}},l.a.createElement(k.a,{className:"chart-modal",toggle:function(){return X(void 0)}},l.a.createElement("h2",null,Q.Country)),l.a.createElement(O.a,{className:"chart-modal"},function(e){var t={labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths,e.TotalDeaths,e.TotalRecovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.Chart,{width:"",type:"pie",data:t,options:pe}),l.a.createElement("div",{className:"modalRow"},l.a.createElement(C.a,null,l.a.createElement(N.a,{md:6,xs:6},"Total: "),l.a.createElement(N.a,null,e.TotalConfirmed.toLocaleString()," ( New: ",e.NewConfirmed.toLocaleString()," )")),l.a.createElement(C.a,null,l.a.createElement(N.a,{md:6,xs:6},"Total Deaths: "),l.a.createElement(N.a,null,e.TotalDeaths.toLocaleString()," ( New: ",e.NewDeaths.toLocaleString()," )")),l.a.createElement(C.a,null,l.a.createElement(N.a,{md:6,xs:6},"Total Recovered: "),l.a.createElement(N.a,null,e.TotalRecovered.toLocaleString()," ( New: ",e.NewRecovered.toLocaleString()," )"))))}(Q)),l.a.createElement(R.a,{className:"chart-modal footer"},l.a.createElement(D.a,{className:"btn",type:"button",onClick:function(){return X(void 0)}},"Close Chart"))))),l.a.createElement(D.a,{type:"button",id:"goToTopButton",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},title:"Go to top"},"Top"),l.a.createElement(D.a,{type:"button",id:"goToGlobalButton",onClick:function(){var e=document.getElementById("global");document.body.scrollTop=e?e.offsetTop:0,document.documentElement.scrollTop=e?e.offsetTop:0},title:"Go to top"},"Global"),l.a.createElement(L.a,{className:"modal-lg",isOpen:ve,toggle:function(){return he(!1)}},l.a.createElement(k.a,{className:"chart-modal",toggle:function(){return he(!1)}},l.a.createElement("h2",null,"Local Timeline")),l.a.createElement(O.a,{className:"chart-modal"},function(){var e={labels:_.map((function(e){return I.a.utc(new Date(e.date)).local().format("MMM D")})),datasets:[{label:"Confirmed",data:_.map((function(e){return e.confirmed})),borderColor:"#F1C40F"},{label:"Recovered",data:_.map((function(e){return e.recovered})),borderColor:"#27AE60"},{label:"Deaths",data:_.map((function(e){return e.deaths})),borderColor:"#CB4335"}]},t={maintainAspectRatio:!0,aspectRatio:1.3,responsive:!0,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:30,bottom:20}},scales:{xAxes:[{id:"date",type:"category",ticks:{callback:function(e){var t=e.split(" "),a=parseInt(t[1]);if(1===a||a%2===0)return t[1]}}},{id:"month",type:"category",gridLines:{drawOnChartArea:!1},ticks:{callback:function(e){var t=e.split(" ");if(parseInt(t[1])%2===1)return t[0]}}}]}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.Chart,{width:"",type:"line",data:e,options:t}),l.a.createElement("div",null,l.a.createElement("small",null,"Data updated manually, last updated at ",l.a.createElement("strong",null,I.a.utc(new Date(2020,3,5,9,10,22)).local().format("ddd, MMM D hh:mm:ss a")))),l.a.createElement("div",null,"Source:\xa0",l.a.createElement("a",{href:"http://www.epid.gov.lk/web/index.php?option=com_content&view=article&id=225&Itemid=518&lang=en",target:"_blank",rel:"noopener noreferrer"},"epid.gov.lk/")))}()),l.a.createElement(R.a,{className:"chart-modal footer"},l.a.createElement(D.a,{className:"btn",type:"button",onClick:function(){return he(!1)}},"Close Chart"))))};var F=function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(M,null))};a(82),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.9183804f.chunk.js.map