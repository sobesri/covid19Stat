(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{31:function(e,a,t){e.exports=t(80)},36:function(e,a,t){},37:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var l=t(1),n=t.n(l),o=t(10),c=t.n(o),r=(t(36),t(37),t(8)),s=t(30),i=t(11),m=t.n(i),d=m.a.create({baseURL:"https://hpb.health.gov.lk/api/"}),u=m.a.create({baseURL:"https://api.covid19api.com/"});m.a.defaults.headers.common["Content-Type"]="application/json",m.a.defaults.headers.common.Accept="application/json";var h={get:v,getStatistics_HPB:function(){return v(d,"","get-current-statistical",[]).then((function(e){return e.data}))},getStatistics_Global:function(){return v(u,"","summary",[]).then((function(e){return e}))}};function v(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return b(e,"get",a,t,null,l,n)}function b(e,a,t){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=_(t,l,o,c),s=E(r,a,n);return e.request(s).then((function(e){return e&&e.data})).catch((function(e){throw console.log(e),e}))}function _(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e+(a?"/"+a:"");t.forEach((function(e){n+="/"+e}));var o="";return l&&(o+="?"+s.stringify(l)),n+=o}function E(e,a,t,l){var n={url:e,method:a,data:t};return l&&(n.responseType=l),n}var f=t(82),p=t(83),g=t(84),w=t(85),C=t(89),N=t(86),T=t(87),D=t(88),j=t(13),O=t(12),y=t.n(O),S=function(){var e=Object(l.useState)(),a=Object(r.a)(e,2),t=a[0],o=a[1],c=Object(l.useState)(new Date),s=Object(r.a)(c,2),i=s[0],m=s[1],d=Object(l.useState)(new Date),u=Object(r.a)(d,2),v=u[0],b=u[1],_=Object(l.useState)(),E=Object(r.a)(_,2),O=E[0],S=E[1],k=Object(l.useState)(),R=Object(r.a)(k,2),L=R[0],A=R[1],B=Object(l.useState)((new Date).getTime()),F=Object(r.a)(B,2),G=F[0],M=F[1],x=Object(l.useState)(),I=Object(r.a)(x,2),W=I[0],H=I[1],P=Object(l.useState)(),U=Object(r.a)(P,2),V=U[0],J=U[1],q=Object(l.useState)(),z=Object(r.a)(q,2),$=z[0],K=z[1];Object(l.useEffect)((function(){Q()}),[]),Object(l.useEffect)((function(){var e=setTimeout((function(){M((new Date).getTime()),Q()}),3e5);return function(){clearTimeout(e)}}),[G]);var Q=function(){h.getStatistics_HPB().then((function(e){m(new Date(e.update_date_time));var a={local_new_cases:e.local_new_cases,local_total_cases:e.local_total_cases,local_total_number_of_individuals_in_hospitals:e.local_total_number_of_individuals_in_hospitals,local_deaths:e.local_deaths,local_new_deaths:e.local_new_deaths,local_recovered:e.local_recovered,global_new_cases:e.global_new_cases,global_total_cases:e.global_total_cases,global_deaths:e.global_deaths,global_new_deaths:e.global_new_deaths,global_recovered:e.global_recovered};o(a);var t={labels:["Active","Deaths","Recovered"],datasets:[{label:"Global Cases",data:[a.global_total_cases-a.global_recovered-a.global_deaths,a.global_deaths,a.global_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};S({labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[a.local_total_cases-a.local_recovered-a.local_deaths,a.local_deaths,a.local_recovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]}),A(t)})),h.getStatistics_Global().then((function(e){H(e.Countries),b(e.Date)}))},X={maintainAspectRatio:!0,aspectRatio:1,legend:{position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}},Y=function(e,a){return e.TotalConfirmed<a.TotalConfirmed?1:e.TotalConfirmed>a.TotalConfirmed?-1:0};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"local"},n.a.createElement("div",{className:"header-row"},n.a.createElement("h1",null,"Covid-19"),n.a.createElement("h3",null,"Sri Lanka"),n.a.createElement("p",null,"Updated at ",y.a.utc(new Date(i)).local().format("ddd, MMM D hh:mm:ss a"),n.a.createElement("br",null),"Data from ",n.a.createElement("a",{href:"https://hpb.health.gov.lk/",target:"_blank",rel:"noopener noreferrer"},"HPB | Live updates on New Coronavirus (COVID-19) outbreak"))),n.a.createElement("div",{className:"row-panel"},n.a.createElement(g.a,{className:"btn",type:"button",onClick:function(){return Q()}},"Reload data")),n.a.createElement("div",{className:"data-panel"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,"Local Cases: ",t&&t.local_total_cases),n.a.createElement("p",null,n.a.createElement("small",null,t&&"( Total cases: ".concat(t.local_total_cases,", New cases: ").concat(t.local_new_cases,", New deaths: ").concat(t.local_new_deaths,", In Hospital: ").concat(t.local_total_number_of_individuals_in_hospitals," )")))),n.a.createElement("div",{className:"chart"},n.a.createElement(j.Chart,{width:"",type:"pie",data:O,options:X}))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,"Global Cases: ",t&&t.global_total_cases),n.a.createElement("p",null,n.a.createElement("small",null,t&&"( Total cases: ".concat(t.global_total_cases,", New cases: ").concat(t.global_new_cases,", New deaths: ").concat(t.global_new_deaths," )")))),n.a.createElement("div",{className:"chart"},n.a.createElement(j.Chart,{width:"",type:"pie",data:L,options:X}))))),n.a.createElement("div",{className:"row-panel"},n.a.createElement("a",{href:"#global"},n.a.createElement(g.a,{className:"btn globalView",type:"button"},"Jump to Global")))),n.a.createElement("div",{id:"global"},n.a.createElement("div",{className:"padding-top-lg"}),W&&n.a.createElement("div",null,n.a.createElement("div",{className:"header-row"},n.a.createElement("h1",null,"Covid-19"),n.a.createElement("h3",null,"Global Summaries"),n.a.createElement("p",null,"Updated at ",y.a.utc(new Date(v)).local().format("ddd, MMM D hh:mm:ss a"),n.a.createElement("br",null),"Data from ",n.a.createElement("a",{href:"https://documenter.getpostman.com/view/10808728/SzS8rjbc?version=latest",target:"_blank",rel:"noopener noreferrer"},"Coronavirus COVID19 API"))),n.a.createElement("div",{className:"row-panel"},n.a.createElement("div",{className:"row"},n.a.createElement(w.a,{value:$||"",onChange:function(e){return e.target&&K(e.target.value)},placeholder:"Enter Search Term here"}))),n.a.createElement("div",{className:"data-panel"},function(e){var a=e.filter((function(e){return e.TotalConfirmed&&(!$||e.Country.toLocaleLowerCase().includes(($||"").toLocaleLowerCase()))}));return a.length>0?n.a.createElement("div",{className:"row"},a.sort(Y).map((function(e,a){return n.a.createElement("div",{key:a,className:"column-4"},n.a.createElement("div",{className:"title"},n.a.createElement("h2",null,e.Country,": ",e.TotalConfirmed),n.a.createElement("p",null,"Total: ",e.TotalConfirmed," ( New: ",e.NewConfirmed," )",n.a.createElement("br",null),"Total Deaths: ",e.TotalDeaths," ( New: ",e.NewDeaths," )",n.a.createElement("br",null),"Total Recovered: ",e.TotalRecovered," ( New: ",e.NewRecovered," )",n.a.createElement("br",null)),n.a.createElement(g.a,{className:"btn",type:"button",onClick:function(){return J(e)}},"View ",e.Country,"'s Chart")))}))):n.a.createElement("div",{className:"fixed-row"},n.a.createElement("p",null,'No results found for "',$,'"'))}(W)),V&&n.a.createElement(C.a,{isOpen:void 0!==V,toggle:function(){return J(void 0)}},n.a.createElement(N.a,{className:"chart-modal",toggle:function(){return J(void 0)}},n.a.createElement("h2",null,V.Country)),n.a.createElement(T.a,{className:"chart-modal"},function(e){var a={labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths,e.TotalDeaths,e.TotalRecovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.Chart,{width:"",type:"pie",data:a,options:X}),n.a.createElement("div",{className:"modalRow"},n.a.createElement(f.a,null,n.a.createElement(p.a,{md:6,xs:6},"Total: "),n.a.createElement(p.a,null,e.TotalConfirmed," ( New: ",e.NewConfirmed," )")),n.a.createElement(f.a,null,n.a.createElement(p.a,{md:6,xs:6},"Total Deaths: "),n.a.createElement(p.a,null,e.TotalDeaths," ( New: ",e.NewDeaths," )")),n.a.createElement(f.a,null,n.a.createElement(p.a,{md:6,xs:6},"Total Recovered: "),n.a.createElement(p.a,null,e.TotalRecovered," ( New: ",e.NewRecovered," )"))))}(V)),n.a.createElement(D.a,{className:"chart-modal footer"},n.a.createElement(g.a,{className:"btn",type:"button",onClick:function(){return J(void 0)}},"Close Chart"))))))};var k=function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(S,null))};t(79),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a2befd9e.chunk.js.map