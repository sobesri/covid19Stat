(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(12),l=a.n(r),c=(a(44),a(45),a(37)),d=a(9),s=a(35),i=a(16),m=a.n(i),u=m.a.create({baseURL:"https://hpb.health.gov.lk/api/"}),h=m.a.create({baseURL:"https://api.covid19api.com/"});m.a.defaults.headers.common["Content-Type"]="application/json",m.a.defaults.headers.common.Accept="application/json";var v,f={get:g,getStatistics_HPB:function(){return g(u,"","get-current-statistical",[]).then((function(e){return e.data}))},getStatistics_Global:function(){return g(h,"","summary",[]).then((function(e){return e}))}};function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return p(e,"get",t,a,null,o,n)}function p(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=b(a,o,r,l),d=E(c,t,n);return e.request(d).then((function(e){return e&&e.data})).catch((function(e){throw console.log(e),e}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e+(t?"/"+t:"");a.forEach((function(e){n+="/"+e}));var r="";return o&&(r+="?"+s.stringify(o)),n+=r}function E(e,t,a,o){var n={url:e,method:t,data:a};return o&&(n.responseType=o),n}!function(e){e[e.Confirmed=0]="Confirmed",e[e.Deaths=1]="Deaths",e[e.Recovered=2]="Recovered",e[e.NewConfirmed=3]="NewConfirmed",e[e.NewDeaths=4]="NewDeaths",e[e.NewRecovered=5]="NewRecovered"}(v||(v={}));v.Confirmed,v.Deaths,v.Recovered,v.NewConfirmed,v.NewDeaths,v.NewRecovered;var w=[{date:new Date(2020,2,10),recovered:0,deaths:0,confirmed:1},{date:new Date(2020,2,11),recovered:0,deaths:0,confirmed:1},{date:new Date(2020,2,12),recovered:0,deaths:0,confirmed:2},{date:new Date(2020,2,13),recovered:0,deaths:0,confirmed:4},{date:new Date(2020,2,14),recovered:0,deaths:0,confirmed:6},{date:new Date(2020,2,15),recovered:0,deaths:0,confirmed:11},{date:new Date(2020,2,16),recovered:0,deaths:0,confirmed:19},{date:new Date(2020,2,17),recovered:0,deaths:0,confirmed:29},{date:new Date(2020,2,18),recovered:0,deaths:0,confirmed:42},{date:new Date(2020,2,19),recovered:0,deaths:0,confirmed:53},{date:new Date(2020,2,20),recovered:0,deaths:0,confirmed:66},{date:new Date(2020,2,21),recovered:0,deaths:0,confirmed:72},{date:new Date(2020,2,22),recovered:0,deaths:0,confirmed:78},{date:new Date(2020,2,23),recovered:0,deaths:0,confirmed:87},{date:new Date(2020,2,24),recovered:2,deaths:0,confirmed:97},{date:new Date(2020,2,25),recovered:3,deaths:0,confirmed:102},{date:new Date(2020,2,26),recovered:3,deaths:0,confirmed:102},{date:new Date(2020,2,27),recovered:7,deaths:0,confirmed:106},{date:new Date(2020,2,28),recovered:9,deaths:1,confirmed:113},{date:new Date(2020,2,29),recovered:11,deaths:1,confirmed:117},{date:new Date(2020,2,30),recovered:14,deaths:2,confirmed:122},{date:new Date(2020,2,31),recovered:17,deaths:2,confirmed:143},{date:new Date(2020,3,1),recovered:21,deaths:2,confirmed:146},{date:new Date(2020,3,2),recovered:21,deaths:3,confirmed:151},{date:new Date(2020,3,3),recovered:22,deaths:4,confirmed:151},{date:new Date(2020,3,4),recovered:27,deaths:5,confirmed:162},{date:new Date(2020,3,5),recovered:33,deaths:5,confirmed:176},{date:new Date(2020,3,6),recovered:38,deaths:5,confirmed:178},{date:new Date(2020,3,7),recovered:42,deaths:6,confirmed:185},{date:new Date(2020,3,8),recovered:44,deaths:7,confirmed:189},{date:new Date(2020,3,9),recovered:47,deaths:7,confirmed:189}],_=a(122),C=a(10),D=a(13),N=a.n(D),y=a(36),T=a(14),L=(a(107),a(108),a(109),a(119)),S=a(120),k=a(121),R=a(126),O=a(123),j=a(124),P=a(125),x={maintainAspectRatio:!0,aspectRatio:1,rotation:.5*Math.PI,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}},B=function(e){var t=Object(o.useState)(),a=Object(d.a)(t,2),r=a[0],l=a[1],c=Object(o.useState)(),s=Object(d.a)(c,2),i=s[0],m=s[1],u=Object(o.useState)(new Date),h=Object(d.a)(u,2),v=h[0],f=h[1],g=function(e,t){var a=e.TotalConfirmed,o=t.TotalConfirmed;return a<o?1:a>o?-1:0};Object(o.useEffect)((function(){l(e.data.Countries.sort(g)),f(e.data.Date)}),[e.data]);var p=function(e){return m(e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header-row header"},n.a.createElement("h3",null,"Country Summaries"),n.a.createElement("p",null,"Updated at ",N.a.utc(new Date(v)).local().format("ddd, MMM D hh:mm:ss a"))),n.a.createElement(L.a,null,n.a.createElement(S.a,{md:3,xs:0}),n.a.createElement(S.a,{className:"data-panel"},n.a.createElement(k.a,{placeholder:"Enter search term here...",onChange:function(t){var a=t.target?t.target.value:"",o=e.data.Countries;l(o.filter((function(e){return e.TotalConfirmed&&(!a||e.Country.toLocaleLowerCase().includes((a||"").toLocaleLowerCase()))})))}})),n.a.createElement(S.a,{md:3,xs:0})),n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(y.DataTable,{value:r,paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",rows:5,responsive:!0,emptyMessage:"No Records Found",rowsPerPageOptions:[5,10,20],onRowClick:function(e){p(e.data)}},n.a.createElement(T.Column,{field:"Country",header:"Country",sortable:!0}),n.a.createElement(T.Column,{field:"TotalConfirmed",header:"Total Confirmed",sortable:!0}),n.a.createElement(T.Column,{field:"TotalActive",header:"Total Active",sortable:!0,body:function(e){return e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths}}),n.a.createElement(T.Column,{field:"TotalDeaths",header:"Total Deaths",sortable:!0}),n.a.createElement(T.Column,{field:"TotalRecovered",header:"Total Recovered",sortable:!0}),n.a.createElement(T.Column,{body:function(e){return n.a.createElement(_.a,{type:"button",onClick:function(){return p(e)},title:"View Summary"},n.a.createElement("i",{className:"material-icons"},"remove_red_eye"),n.a.createElement("span",null,"View Summary"))}}))),i&&n.a.createElement(R.a,{isOpen:void 0!==i,toggle:function(){return m(void 0)}},n.a.createElement(O.a,{className:"chart-modal",toggle:function(){return m(void 0)}},n.a.createElement("h2",null,i.Country)),n.a.createElement(j.a,{className:"chart-modal"},function(e){var t={labels:["Active","Deaths","Recovered"],datasets:[{label:"Local Cases",data:[e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths,e.TotalDeaths,e.TotalRecovered],backgroundColor:["#F1C40F","#CB4335","#27AE60"],borderWidth:0}]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Chart,{width:"",type:"pie",data:t,options:x}),n.a.createElement("div",{className:"modalRow"},n.a.createElement(L.a,null,n.a.createElement(S.a,{md:6,xs:6},"Total: "),n.a.createElement(S.a,null,e.TotalConfirmed.toLocaleString())),n.a.createElement(L.a,null,n.a.createElement(S.a,{md:6,xs:6},"Total Active: "),n.a.createElement(S.a,null,(e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths).toLocaleString()," ( New: ",e.NewConfirmed.toLocaleString()," )")),n.a.createElement(L.a,null,n.a.createElement(S.a,{md:6,xs:6},"Total Deaths: "),n.a.createElement(S.a,null,e.TotalDeaths.toLocaleString()," ( New: ",e.NewDeaths.toLocaleString()," )")),n.a.createElement(L.a,null,n.a.createElement(S.a,{md:6,xs:6},"Total Recovered: "),n.a.createElement(S.a,null,e.TotalRecovered.toLocaleString()," ( New: ",e.NewRecovered.toLocaleString()," )"))))}(i)),n.a.createElement(P.a,{className:"chart-modal footer"},n.a.createElement(_.a,{className:"btn",type:"button",onClick:function(){return m(void 0)}},"Close Chart"))))},A=function(e){var t=e.summary,a=e.type,o=e.width,r=t.confirmed,l=t.deaths,c=t.recovered,d={labels:["Active","Recovered","Deaths"],datasets:[{label:"Local Cases",data:[r-c-l,c,l],backgroundColor:["rgb(0, 119, 255)","rgb(0, 221, 0)","rgb(255, 72, 0)"],borderWidth:0}]},s={maintainAspectRatio:!0,aspectRatio:1,rotation:.5*Math.PI,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Chart,{width:o||"",type:a,data:d,options:s}))},M=function(e){var t=e.summaries,a=t?{labels:t.map((function(e){return e.country.length>10?e.country.replace(/[a-z ]/g,""):e.country})),datasets:[{label:"Confirmed",data:t.map((function(e){return e.confirmed})),backgroundColor:"rgb(0, 119, 255)",borderWidth:0},{label:"Recovered",data:t.map((function(e){return e.recovered})),backgroundColor:"rgb(0, 221, 0)",borderWidth:0},{label:"Deaths",data:t.map((function(e){return e.deaths})),backgroundColor:"rgb(255, 72, 0)",borderWidth:0}]}:null;return a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(C.Chart,{width:"",type:"horizontalBar",data:a,options:{maintainAspectRatio:!0,aspectRatio:1,rotation:1,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:0}}}}))},I=function(){var e=Object(o.useState)(),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(o.useState)(new Date),s=Object(d.a)(l,2),i=s[0],m=s[1],u=Object(o.useState)((new Date).getTime()),h=Object(d.a)(u,2),v=h[0],g=h[1],p=Object(o.useState)(),b=Object(d.a)(p,2),E=b[0],D=b[1];Object(o.useEffect)((function(){y()}),[]),Object(o.useEffect)((function(){var e=setTimeout((function(){g((new Date).getTime()),y()}),3e5);return function(){clearTimeout(e)}}),[v]),Object(o.useLayoutEffect)((function(){var e=function(){var e=document.getElementById("goToTopButton"),t=document.getElementById("goToGlobalButton"),a=document.getElementById("global");e&&t&&(window.scrollY>(a?a.offsetTop:500)/2?t.style.display="none":t.style.display="block",window.scrollY>900?e.style.display="block":e.style.display="none")};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var y=function(){f.getStatistics_HPB().then((function(e){m(new Date(e.update_date_time));var t={local_new_cases:e.local_new_cases,local_total_cases:e.local_total_cases,local_total_number_of_individuals_in_hospitals:e.local_total_number_of_individuals_in_hospitals,local_deaths:e.local_deaths,local_new_deaths:e.local_new_deaths,local_recovered:e.local_recovered,global_new_cases:e.global_new_cases,global_total_cases:e.global_total_cases,global_deaths:e.global_deaths,global_new_deaths:e.global_new_deaths,global_recovered:e.global_recovered};r(t)})),f.getStatistics_Global().then((function(e){var t=e.Countries;t=t.filter((function(e,a){return t.map((function(e){return e.Slug})).indexOf(e.Slug)===a})),D(Object(c.a)({},e,{Countries:t}))}))},T=function(e,t){var a=e.TotalConfirmed,o=t.TotalConfirmed;return a<o?1:a>o?-1:0};return a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"local"},n.a.createElement("div",{className:"header-row"},n.a.createElement("h1",null,"Covid-19"),n.a.createElement("h3",null,"Sri Lanka"),n.a.createElement("p",null,"Updated at ",N.a.utc(new Date(i)).local().format("ddd, MMM D hh:mm:ss a"),n.a.createElement("br",null),"Data source: ",n.a.createElement("a",{href:"https://hpb.health.gov.lk/",target:"_blank",rel:"noopener noreferrer"},"HPB | Live updates on New Coronavirus (COVID-19) outbreak")),n.a.createElement(_.a,{className:"btn reload",type:"button",onClick:function(){return y()}},"Reload data")),n.a.createElement("div",{className:"data-panel"},n.a.createElement("div",{className:"row border-box-sm"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"chart padding-top-lg"},n.a.createElement(A,{type:"doughnut",summary:{confirmed:a.local_total_cases,deaths:a.local_deaths,recovered:a.local_recovered}})),n.a.createElement("div",{className:"row-panel"},n.a.createElement("h2",null,"Total Cases: ",a&&a.local_total_cases.toLocaleString())),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column-4 data-border active"},"Active: ",(a.local_total_cases-a.local_recovered-a.local_deaths).toLocaleString()),n.a.createElement("div",{className:"column-4 data-border recovered"},"Recovered: ",a.local_recovered.toLocaleString()),n.a.createElement("div",{className:"column-4 data-border deaths"},"Deaths: ",a.local_deaths.toLocaleString())),n.a.createElement("div",{className:"row-panel"},n.a.createElement("div",{className:"updates data-border"},"Updates ",n.a.createElement("span",null,": "),"New cases : ",n.a.createElement("strong",null,a.local_new_cases.toLocaleString())," ",n.a.createElement("span",null,"- "),"New deaths : ",n.a.createElement("strong",null,a.local_new_deaths.toLocaleString())," ",n.a.createElement("span",null,"- "),"In Hospital : ",n.a.createElement("strong",null,a.local_total_number_of_individuals_in_hospitals.toLocaleString())))),n.a.createElement("div",{className:"column padding-top-lg"},n.a.createElement("div",{className:"chart line"},function(){var e={labels:w.map((function(e){return N.a.utc(e.date?new Date(e.date):new Date).local().format("MMM D")})),datasets:[{label:"Confirmed",data:w.map((function(e){return e.confirmed})),borderColor:"rgb(0, 119, 255)"},{label:"Recovered",data:w.map((function(e){return e.recovered})),borderColor:"rgb(0, 221, 0)"},{label:"Deaths",data:w.map((function(e){return e.deaths})),borderColor:"rgb(255, 72, 0)"}]};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"title"},n.a.createElement("strong",null,"Progression of the outbreak")),n.a.createElement(C.Chart,{className:"padding-top-lg",width:"",type:"line",data:e,options:{aspectRatio:1.2,responsive:!0,legend:{labels:{fontColor:"#fff"},position:"bottom"},layout:{padding:{left:0,right:0,top:0,bottom:20}},scales:{xAxes:[{id:"date",type:"category",ticks:{callback:function(e){return e.split(" ")[1]}}},{id:"month",type:"category",gridLines:{drawOnChartArea:!1},ticks:{callback:function(e){return e.split(" ")[0]}}}]}}}),n.a.createElement("div",null,n.a.createElement("small",null,"Data updated manually, last updated at ",n.a.createElement("strong",null,N.a.utc(new Date(2020,3,9,13,12,55)).local().format("ddd, MMM D hh:mm:ss a")))),n.a.createElement("div",null,"Source:\xa0",n.a.createElement("a",{href:"http://www.epid.gov.lk/web/index.php?option=com_content&view=article&id=225&Itemid=518&lang=en",target:"_blank",rel:"noopener noreferrer"},"epid.gov.lk/")))}())))),n.a.createElement("div",{className:"padding-top-xlg"})),n.a.createElement("div",{id:"global"},n.a.createElement("div",{className:"padding-top-lg"}),n.a.createElement("div",null,n.a.createElement("div",{className:"header-row"},n.a.createElement("h1",null,"Covid-19"),n.a.createElement("h3",null,"Global"),n.a.createElement("p",null,"Data sources: ",n.a.createElement("br",null)," ",n.a.createElement("a",{href:"https://hpb.health.gov.lk/",target:"_blank",rel:"noopener noreferrer"},"HPB | Live updates on New Coronavirus (COVID-19) outbreak")," ",n.a.createElement("br",null),n.a.createElement("a",{href:"https://documenter.getpostman.com/view/10808728/SzS8rjbc?version=latest",target:"_blank",rel:"noopener noreferrer"},"Coronavirus COVID19 API"))),n.a.createElement("div",{className:"data-panel"},n.a.createElement("div",{className:"row border-box-sm"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"row-panel chart"},n.a.createElement(A,{type:"doughnut",summary:{confirmed:a.global_total_cases,deaths:a.global_deaths,recovered:a.global_recovered}})),n.a.createElement("div",{className:"row-panel padding-top-lg"},n.a.createElement("h2",null,"Global Cases: ",a.global_total_cases.toLocaleString())),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column-4 data-border active"},"Active: ",(a.global_total_cases-a.global_recovered-a.global_deaths).toLocaleString()),n.a.createElement("div",{className:"column-4 data-border recovered"},"Recovered: ",a.global_recovered.toLocaleString()),n.a.createElement("div",{className:"column-4 data-border deaths"},"Deaths: ",a.global_deaths.toLocaleString())),n.a.createElement("div",{className:"row-panel"},n.a.createElement("div",{className:"updates data-border"},"Updates ",n.a.createElement("span",null,": "),"New cases : ",n.a.createElement("strong",null,a.global_new_cases.toLocaleString())," ",n.a.createElement("span",null,"- "),"New deaths : ",n.a.createElement("strong",null,a.global_new_deaths.toLocaleString())))),n.a.createElement("div",{className:"column"},n.a.createElement(M,{summaries:function(){var e=E&&E.Countries.sort(T);if(e)return e.slice(0,4).map((function(e){return{confirmed:e.TotalConfirmed,deaths:e.TotalDeaths,recovered:e.TotalRecovered,country:e.Country}}))}()})))),n.a.createElement("div",{className:"data-panel"},n.a.createElement("div",{className:"row-panel border-box-sm"},E&&n.a.createElement(B,{data:E}))))),n.a.createElement(_.a,{type:"button",id:"goToTopButton",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},title:"Go to top"},"Top"),n.a.createElement(_.a,{type:"button",id:"goToGlobalButton",onClick:function(){var e=document.getElementById("global");document.body.scrollTop=e?e.offsetTop:0,document.documentElement.scrollTop=e?e.offsetTop:0},title:"Go to top"},"Global")):n.a.createElement(n.a.Fragment,null)};var F=function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(I,null))};a(117),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){e.exports=a(118)},44:function(e,t,a){},45:function(e,t,a){}},[[39,1,2]]]);
//# sourceMappingURL=main.b8fdc995.chunk.js.map